configfile: "scripts/config/config.yaml",

##### Load the rules #####

rule all:
        input:
                expand("results/fastqc_init/{sample}_fastqc.zip", sample = config["samples"]),
                expand("results/fastqc_init/{sample}_fastqc.html", sample = config["samples"])
		expand("results/trim/{subsample}_1_trim_paired.fastq.gz, subsamples = config["subsamples"]),
		expand("results/trim/{subsample}_1_trim_unpaired.fastq.gz, subsamples = config["subsamples"])
		expand("results/trim/{subsample}_2_trim_paired.fastq.gz, subsamples = config["subsamples"]),
		expand("results/trim/{subsample}_1_trim_unpaired.fastq.gz, subsamples = config["subsamples"])


rule fastqc_init:
        input:
                "data/subset/{sample}.fastq.gz"
        output:
                html = "results/fastqc_init/{sample}_fastqc.html",
                zip  = "results/fastqc_init/{sample}_fastqc.zip"
        conda:
                "envs/qc.yaml"
        threads: 2
        log:
                "logs/fastqc_init_{sample}.log"
        message:
                "Executing Initial Quality Control on : {input}"
        shell:
                """
                mkdir -p results/fastqc_init
                fastqc {input} -o "results/fastqc_init" -t {threads} 2>{log}
                """

rule trim:
	input:
		fwd = "data/subset/{subsample}_1_fastq.gz,
                rev = "data/subset/{subsample}_2_fastq.gz,
	output:
		fwd_paired="                fwd = "data/subset/{subsample}_1_fastq.gz,
